BORROW MAP {}
lender to refs {}
ultimate refs {}
annotated line map {
    1: [
        "fn main () {",
    ],
    2: [
        "  let x = 8;",
        "  let [_tspan data-hash=\"1\"_]x[_/tspan_] = 8;",
    ],
    3: [
        "  if true {",
    ],
    4: [
        "    let y = x;",
        "    let [_tspan data-hash=\"2\"_]y[_/tspan_] = x;",
        "    let y = [_tspan data-hash=\"1\"_]x[_/tspan_];",
    ],
    5: [
        "    if true {",
    ],
    6: [
        "      let z = y;",
        "      let [_tspan data-hash=\"3\"_]z[_/tspan_] = y;",
        "      let z = [_tspan data-hash=\"2\"_]y[_/tspan_];",
    ],
    7: [
        "    }",
    ],
    8: [
        "  }",
    ],
    9: [
        "}",
    ],
}
annotated str fn main () {
  let <tspan data-hash="1">x</tspan> = 8;
  if true {
    let <tspan data-hash="2">y</tspan> = <tspan data-hash="1">x</tspan>;
    if true {
      let <tspan data-hash="3">z</tspan> = <tspan data-hash="2">y</tspan>;
    }
  }
}

preprocessed events : [
    (
        2,
        Bind {
            from: Anonymous,
            to: Value(
                Owner(
                    Owner {
                        name: "x",
                        hash: 1,
                        is_mut: false,
                    },
                ),
            ),
        },
    ),
    (
        3,
        Branch {
            live_vars: {
                Owner(
                    Owner {
                        name: "x",
                        hash: 1,
                        is_mut: false,
                    },
                ),
            },
            branches: [
                ExtBranchData {
                    e_data: [
                        (
                            4,
                            Copy {
                                from: Value(
                                    Owner(
                                        Owner {
                                            name: "x",
                                            hash: 1,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                                to: Value(
                                    Owner(
                                        Owner {
                                            name: "y",
                                            hash: 2,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                            },
                        ),
                        (
                            5,
                            Branch {
                                live_vars: {
                                    Owner(
                                        Owner {
                                            name: "y",
                                            hash: 2,
                                            is_mut: false,
                                        },
                                    ),
                                },
                                branches: [
                                    ExtBranchData {
                                        e_data: [
                                            (
                                                6,
                                                Copy {
                                                    from: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "y",
                                                                hash: 2,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                    to: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "z",
                                                                hash: 3,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                        ],
                                        line_map: {
                                            6: [
                                                Copy {
                                                    from: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "y",
                                                                hash: 2,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                    to: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "z",
                                                                hash: 3,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ],
                                        },
                                    },
                                    ExtBranchData {
                                        e_data: [],
                                        line_map: {},
                                    },
                                ],
                                branch_type: If(
                                    [
                                        "If",
                                        "Else",
                                    ],
                                    [
                                        (
                                            5,
                                            7,
                                        ),
                                        (
                                            7,
                                            7,
                                        ),
                                    ],
                                ),
                                split_point: 5,
                                merge_point: 7,
                            },
                        ),
                    ],
                    line_map: {
                        4: [
                            Copy {
                                from: Value(
                                    Owner(
                                        Owner {
                                            name: "x",
                                            hash: 1,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                                to: Value(
                                    Owner(
                                        Owner {
                                            name: "y",
                                            hash: 2,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                            },
                        ],
                    },
                },
                ExtBranchData {
                    e_data: [],
                    line_map: {},
                },
            ],
            branch_type: If(
                [
                    "If",
                    "Else",
                ],
                [
                    (
                        3,
                        8,
                    ),
                    (
                        8,
                        8,
                    ),
                ],
            ),
            split_point: 3,
            merge_point: 8,
        },
    ),
    (
        3,
        Copy {
            from: Anonymous,
            to: Caller,
        },
    ),
    (
        7,
        GoOutOfScope {
            ro: Owner(
                Owner {
                    name: "z",
                    hash: 3,
                    is_mut: false,
                },
            ),
        },
    ),
    (
        8,
        GoOutOfScope {
            ro: Owner(
                Owner {
                    name: "y",
                    hash: 2,
                    is_mut: false,
                },
            ),
        },
    ),
    (
        9,
        GoOutOfScope {
            ro: Owner(
                Owner {
                    name: "x",
                    hash: 1,
                    is_mut: false,
                },
            ),
        },
    ),
]
ev_line_map: {
    4: [
        Copy {
            from: Value(
                Owner(
                    Owner {
                        name: "x",
                        hash: 1,
                        is_mut: false,
                    },
                ),
            ),
            to: Value(
                Owner(
                    Owner {
                        name: "y",
                        hash: 2,
                        is_mut: false,
                    },
                ),
            ),
        },
    ],
    6: [
        Copy {
            from: Value(
                Owner(
                    Owner {
                        name: "y",
                        hash: 2,
                        is_mut: false,
                    },
                ),
            ),
            to: Value(
                Owner(
                    Owner {
                        name: "z",
                        hash: 3,
                        is_mut: false,
                    },
                ),
            ),
        },
    ],
}
processed events [
    (
        2,
        Bind {
            from: Anonymous,
            to: Value(
                Owner(
                    Owner {
                        name: "x",
                        hash: 1,
                        is_mut: false,
                    },
                ),
            ),
        },
    ),
    (
        3,
        Branch {
            live_vars: {
                Owner(
                    Owner {
                        name: "x",
                        hash: 1,
                        is_mut: false,
                    },
                ),
            },
            branches: [
                ExtBranchData {
                    e_data: [
                        (
                            4,
                            Copy {
                                from: Value(
                                    Owner(
                                        Owner {
                                            name: "x",
                                            hash: 1,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                                to: Value(
                                    Owner(
                                        Owner {
                                            name: "y",
                                            hash: 2,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                            },
                        ),
                        (
                            5,
                            Branch {
                                live_vars: {
                                    Owner(
                                        Owner {
                                            name: "y",
                                            hash: 2,
                                            is_mut: false,
                                        },
                                    ),
                                },
                                branches: [
                                    ExtBranchData {
                                        e_data: [
                                            (
                                                6,
                                                Copy {
                                                    from: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "y",
                                                                hash: 2,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                    to: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "z",
                                                                hash: 3,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                        ],
                                        line_map: {
                                            6: [
                                                Copy {
                                                    from: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "y",
                                                                hash: 2,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                    to: Value(
                                                        Owner(
                                                            Owner {
                                                                name: "z",
                                                                hash: 3,
                                                                is_mut: false,
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ],
                                        },
                                    },
                                    ExtBranchData {
                                        e_data: [],
                                        line_map: {},
                                    },
                                ],
                                branch_type: If(
                                    [
                                        "If",
                                        "Else",
                                    ],
                                    [
                                        (
                                            5,
                                            7,
                                        ),
                                        (
                                            7,
                                            7,
                                        ),
                                    ],
                                ),
                                split_point: 5,
                                merge_point: 7,
                            },
                        ),
                    ],
                    line_map: {
                        4: [
                            Copy {
                                from: Value(
                                    Owner(
                                        Owner {
                                            name: "x",
                                            hash: 1,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                                to: Value(
                                    Owner(
                                        Owner {
                                            name: "y",
                                            hash: 2,
                                            is_mut: false,
                                        },
                                    ),
                                ),
                            },
                        ],
                    },
                },
                ExtBranchData {
                    e_data: [],
                    line_map: {},
                },
            ],
            branch_type: If(
                [
                    "If",
                    "Else",
                ],
                [
                    (
                        3,
                        8,
                    ),
                    (
                        8,
                        8,
                    ),
                ],
            ),
            split_point: 3,
            merge_point: 8,
        },
    ),
    (
        3,
        Copy {
            from: Anonymous,
            to: Caller,
        },
    ),
    (
        7,
        GoOutOfScope {
            ro: Owner(
                Owner {
                    name: "z",
                    hash: 3,
                    is_mut: false,
                },
            ),
        },
    ),
    (
        8,
        GoOutOfScope {
            ro: Owner(
                Owner {
                    name: "y",
                    hash: 2,
                    is_mut: false,
                },
            ),
        },
    ),
    (
        9,
        GoOutOfScope {
            ro: Owner(
                Owner {
                    name: "x",
                    hash: 1,
                    is_mut: false,
                },
            ),
        },
    ),
]
processed line map {}
timelines {
    1: Timeline {
        resource_access_point: Owner(
            Owner {
                name: "x",
                hash: 1,
                is_mut: false,
            },
        ),
        history: [
            (
                2,
                Acquire {
                    from: Anonymous,
                    is: Value(
                        Owner(
                            Owner {
                                name: "x",
                                hash: 1,
                                is_mut: false,
                            },
                        ),
                    ),
                },
            ),
            (
                3,
                Branch {
                    is: Value(
                        Owner(
                            Owner {
                                name: "x",
                                hash: 1,
                                is_mut: false,
                            },
                        ),
                    ),
                    branch_history: [
                        BranchData {
                            t_data: TimelineColumnData {
                                name: "",
                                x_val: -1,
                                title: "",
                                is_ref: false,
                                is_struct_group: false,
                                is_member: false,
                                owner: 0,
                            },
                            e_data: [
                                (
                                    4,
                                    Duplicate {
                                        to: Value(
                                            Owner(
                                                Owner {
                                                    name: "y",
                                                    hash: 2,
                                                    is_mut: false,
                                                },
                                            ),
                                        ),
                                        is: Value(
                                            Owner(
                                                Owner {
                                                    name: "x",
                                                    hash: 1,
                                                    is_mut: false,
                                                },
                                            ),
                                        ),
                                    },
                                ),
                            ],
                            width: 0,
                        },
                        BranchData {
                            t_data: TimelineColumnData {
                                name: "",
                                x_val: -1,
                                title: "",
                                is_ref: false,
                                is_struct_group: false,
                                is_member: false,
                                owner: 0,
                            },
                            e_data: [],
                            width: 0,
                        },
                    ],
                    ty: If(
                        [
                            "If",
                            "Else",
                        ],
                        [
                            (
                                3,
                                8,
                            ),
                            (
                                8,
                                8,
                            ),
                        ],
                    ),
                    split_point: 3,
                    merge_point: 8,
                },
            ),
            (
                9,
                OwnerGoOutOfScope,
            ),
        ],
    },
    2: Timeline {
        resource_access_point: Owner(
            Owner {
                name: "y",
                hash: 2,
                is_mut: false,
            },
        ),
        history: [
            (
                4,
                Copy {
                    from: Value(
                        Owner(
                            Owner {
                                name: "x",
                                hash: 1,
                                is_mut: false,
                            },
                        ),
                    ),
                    is: Value(
                        Owner(
                            Owner {
                                name: "y",
                                hash: 2,
                                is_mut: false,
                            },
                        ),
                    ),
                },
            ),
            (
                8,
                OwnerGoOutOfScope,
            ),
        ],
    },
    3: Timeline {
        resource_access_point: Owner(
            Owner {
                name: "z",
                hash: 3,
                is_mut: false,
            },
        ),
        history: [
            (
                7,
                OwnerGoOutOfScope,
            ),
        ],
    },
}
branch width 2
hash 1, timeline Timeline {
    resource_access_point: Owner(
        Owner {
            name: "x",
            hash: 1,
            is_mut: false,
        },
    ),
    history: [
        (
            2,
            Acquire {
                from: Anonymous,
                is: Value(
                    Owner(
                        Owner {
                            name: "x",
                            hash: 1,
                            is_mut: false,
                        },
                    ),
                ),
            },
        ),
        (
            3,
            Branch {
                is: Value(
                    Owner(
                        Owner {
                            name: "x",
                            hash: 1,
                            is_mut: false,
                        },
                    ),
                ),
                branch_history: [
                    BranchData {
                        t_data: TimelineColumnData {
                            name: "x",
                            x_val: 70,
                            title: "&lt;span style=&quot;font-family: 'Source Code Pro', Consolas, 'Ubuntu Mono', Menlo, 'DejaVu Sans Mono', monospace, monospace !important;&quot;&gt;x&lt;/span&gt;, immutable",
                            is_ref: false,
                            is_struct_group: false,
                            is_member: false,
                            owner: 1,
                        },
                        e_data: [
                            (
                                4,
                                Duplicate {
                                    to: Value(
                                        Owner(
                                            Owner {
                                                name: "y",
                                                hash: 2,
                                                is_mut: false,
                                            },
                                        ),
                                    ),
                                    is: Value(
                                        Owner(
                                            Owner {
                                                name: "x",
                                                hash: 1,
                                                is_mut: false,
                                            },
                                        ),
                                    ),
                                },
                            ),
                        ],
                        width: 0,
                    },
                    BranchData {
                        t_data: TimelineColumnData {
                            name: "x",
                            x_val: 120,
                            title: "&lt;span style=&quot;font-family: 'Source Code Pro', Consolas, 'Ubuntu Mono', Menlo, 'DejaVu Sans Mono', monospace, monospace !important;&quot;&gt;x&lt;/span&gt;, immutable",
                            is_ref: false,
                            is_struct_group: false,
                            is_member: false,
                            owner: 1,
                        },
                        e_data: [],
                        width: 0,
                    },
                ],
                ty: If(
                    [
                        "If",
                        "Else",
                    ],
                    [
                        (
                            3,
                            8,
                        ),
                        (
                            8,
                            8,
                        ),
                    ],
                ),
                split_point: 3,
                merge_point: 8,
            },
        ),
        (
            9,
            OwnerGoOutOfScope,
        ),
    ],
}
prev_state None
PREV STATE OutOfScope
root_states [
    (
        1,
        2,
        OutOfScope,
    ),
    (
        2,
        3,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        3,
        8,
        OutOfScope,
    ),
    (
        9,
        9,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        9,
        9,
        OutOfScope,
    ),
]
p_state (
    2,
    3,
    FullPrivilege {
        s: Full,
    },
)
split 3
merge 8
branch BranchData {
    t_data: TimelineColumnData {
        name: "x",
        x_val: 70,
        title: "&lt;span style=&quot;font-family: 'Source Code Pro', Consolas, 'Ubuntu Mono', Menlo, 'DejaVu Sans Mono', monospace, monospace !important;&quot;&gt;x&lt;/span&gt;, immutable",
        is_ref: false,
        is_struct_group: false,
        is_member: false,
        owner: 1,
    },
    e_data: [
        (
            4,
            Duplicate {
                to: Value(
                    Owner(
                        Owner {
                            name: "y",
                            hash: 2,
                            is_mut: false,
                        },
                    ),
                ),
                is: Value(
                    Owner(
                        Owner {
                            name: "x",
                            hash: 1,
                            is_mut: false,
                        },
                    ),
                ),
            },
        ),
    ],
    width: 0,
}
start end for branch 0, : 3 - 8
begin state for branch 0, : Some(
    (
        4,
        4,
        FullPrivilege {
            s: Gray,
        },
    ),
)
PREV STATE FullPrivilege {
    s: Full,
}
states [
    (
        4,
        4,
        FullPrivilege {
            s: Gray,
        },
    ),
    (
        4,
        4,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        4,
        4,
        FullPrivilege {
            s: Full,
        },
    ),
]
end state for branch 0, : Some(
    (
        8,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
)
PREV STATE FullPrivilege {
    s: Full,
}
states when rendering timeline [
    (
        4,
        4,
        FullPrivilege {
            s: Gray,
        },
    ),
    (
        4,
        4,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        4,
        8,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        8,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
]
branch BranchData {
    t_data: TimelineColumnData {
        name: "x",
        x_val: 120,
        title: "&lt;span style=&quot;font-family: 'Source Code Pro', Consolas, 'Ubuntu Mono', Menlo, 'DejaVu Sans Mono', monospace, monospace !important;&quot;&gt;x&lt;/span&gt;, immutable",
        is_ref: false,
        is_struct_group: false,
        is_member: false,
        owner: 1,
    },
    e_data: [],
    width: 0,
}
here
start end for branch 1, : 8 - 8
begin state for branch 1, : Some(
    (
        4,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
)
PREV STATE FullPrivilege {
    s: Full,
}
states [
    (
        4,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
    (
        8,
        8,
        FullPrivilege {
            s: Full,
        },
    ),
]
end state for branch 1, : Some(
    (
        8,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
)
PREV STATE FullPrivilege {
    s: Full,
}
states when rendering timeline [
    (
        4,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
    (
        8,
        8,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        8,
        8,
        FullPrivilege {
            s: Gray,
        },
    ),
]
PREV STATE OutOfScope
states when rendering timeline [
    (
        1,
        2,
        OutOfScope,
    ),
    (
        2,
        3,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        3,
        8,
        OutOfScope,
    ),
    (
        9,
        9,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        9,
        9,
        OutOfScope,
    ),
]
hash 2, timeline Timeline {
    resource_access_point: Owner(
        Owner {
            name: "y",
            hash: 2,
            is_mut: false,
        },
    ),
    history: [
        (
            4,
            Copy {
                from: Value(
                    Owner(
                        Owner {
                            name: "x",
                            hash: 1,
                            is_mut: false,
                        },
                    ),
                ),
                is: Value(
                    Owner(
                        Owner {
                            name: "y",
                            hash: 2,
                            is_mut: false,
                        },
                    ),
                ),
            },
        ),
        (
            8,
            OwnerGoOutOfScope,
        ),
    ],
}
PREV STATE OutOfScope
states when rendering timeline [
    (
        1,
        4,
        OutOfScope,
    ),
    (
        4,
        8,
        FullPrivilege {
            s: Full,
        },
    ),
    (
        8,
        8,
        OutOfScope,
    ),
]
hash 3, timeline Timeline {
    resource_access_point: Owner(
        Owner {
            name: "z",
            hash: 3,
            is_mut: false,
        },
    ),
    history: [
        (
            7,
            OwnerGoOutOfScope,
        ),
    ],
}
PREV STATE OutOfScope
states when rendering timeline [
    (
        1,
        7,
        OutOfScope,
    ),
    (
        7,
        7,
        Invalid,
    ),
]
PREV STATE OutOfScope
PREV STATE OutOfScope
PREV STATE OutOfScope
